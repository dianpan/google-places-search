function initMap(){var e=document.getElementById("pac-input"),t={lat:37.7827,lng:-122.4149};map=new google.maps.Map(document.getElementById("map"),{center:t,zoom:12}),infoWindow=new google.maps.InfoWindow({content:document.getElementById("info-content")}),places=new google.maps.places.PlacesService(map),searchBox=new google.maps.places.SearchBox(e),onPlaceChanged(),document.getElementById("submit-button").onclick=function(){google.maps.event.trigger(e,"focus"),google.maps.event.trigger(e,"keydown",{keyCode:13})}}function onPlaceChanged(){map.addListener("bounds_changed",function(){searchBox.setBounds(map.getBounds())}),searchBox.addListener("places_changed",function(){var e=searchBox.getPlaces();0!=e.length&&(search(e),toggleHeader())})}function toggleHeader(){document.querySelector("header").classList.contains("collapse")||$(".expand").toggleClass("collapse")}function search(e){var t=new google.maps.LatLngBounds;e.forEach(function(n){if(clearResults(),clearMarkers(),!n.geometry)return t.extend(n.geometry.location),void console.log("Returned place contains no geometry");map.panTo(n.geometry.location),map.setZoom(18),t.union(n.geometry.viewport);for(var o=0;o<e.length;o++)markers[o]=new google.maps.Marker({position:e[o].geometry.location,animation:google.maps.Animation.DROP}),markers[o].placeResult=e[o],google.maps.event.addListener(markers[o],"click",showInfoWindow),markers[o].setMap(map),addResult(e[o],o)}),map.fitBounds(t)}function clearMarkers(){for(var e=0;e<markers.length;e++)markers[e]&&markers[e].setMap(null);markers=[]}function addResult(e,t){document.getElementById("resultsTable");var n=document.getElementById("results"),o=document.createElement("tr");o.style.backgroundColor=t%2==0?"#F0F0F0":"#FFFFFF",o.onclick=function(){google.maps.event.trigger(markers[t],"click")};var a=document.createElement("td"),l=document.createElement("td"),s=document.createElement("div");s.setAttribute("class","placeIcon"),s.setAttribute("className","placeIcon");var c=document.createTextNode(e.name);a.appendChild(s),l.appendChild(c),o.appendChild(a),o.appendChild(l),n.appendChild(o)}function clearResults(){for(var e=document.getElementById("results");e.childNodes[0];)e.removeChild(e.childNodes[0])}function showInfoWindow(){var e=this;places.getDetails({placeId:e.placeResult.place_id},function(t,n){n===google.maps.places.PlacesServiceStatus.OK&&(infoWindow.open(map,e),buildIWContent(t))})}function buildIWContent(e){var t=new RegExp("^https?://.+?/");if(document.getElementById("iw-icon").innerHTML='<img class="hotelIcon" src="'+e.icon+'"/>',document.getElementById("iw-url").innerHTML='<b><a href="'+e.url+'">'+e.name+"</a></b>",document.getElementById("iw-address").textContent=e.vicinity,e.formatted_phone_number?(document.getElementById("iw-phone-row").style.display="",document.getElementById("iw-phone").textContent=e.formatted_phone_number):document.getElementById("iw-phone-row").style.display="none",e.rating)for(var n="",o=0;o<5;o++)e.rating<o+.5?n+="&#10025;":n+="&#10029;",document.getElementById("iw-rating-row").style.display="",document.getElementById("iw-rating").innerHTML=n;else document.getElementById("iw-rating-row").style.display="none";if(e.website){e.website;var a=t.exec(e.website);null===a&&(a="http://"+e.website+"/"),document.getElementById("iw-website-row").style.display="",document.getElementById("iw-website").textContent=a}else document.getElementById("iw-website-row").style.display="none"}$(document).ready(function(){$("#slider").click(function(){$(".expand").toggleClass("collapse")})});var map,places,searchBox,infoWindow,markers=[];
